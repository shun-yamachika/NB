NBをどのように拡張するのか

** ストーリー案のトピックセンテンス
*** title バウンス長ごとの非均一測定回数配分を許容するネットワークベンチマーキング拡張に関する一提案

*** 背景1: 量子ネットワークでは、効率的な忠実度推定をするプロトコルが考案されている
量子ネットワークでは、
リンクを測定し、忠実度の高いリンクを判別する際に、
すべてのリンクに一様に測定を行うことはリソースの浪費となるため、
効率的に有望なリンクにリソースを集中させる、
リンク選択アルゴリズム、経路選択プロトコルが考案されている。


*** 背景2: 既存プロトコルは、NBを採用している
LinkSeLFiEやQBGP等の既存プロトコルは、
SPAMエラーとリンク品質を指数モデルへのフィッティングにより分離推定でき、
トポロジーの知識を必要としない、
Network Benchmarking (NB) をサブルーチンとして採用している。


# LinkSeLFiEやQBGP等の既存プロトコルはxxxの理由でNBを採用している、と言いたい。
# -> ようは、NB以外のプロトコルで代用できないような特徴がNBにあること
# を伝えたい

*** 背景3: NBには情報利得（Fisher情報量）が最大となる特定の m が存在する
NBには、
最適なバウンス長 mi* = arg max{m∈M} I(pi, m) が存在し、
これを選択することで同一コストに対する不確実性の削減量を最大化できる。

*** 動機: NBは均一配分の制約により効率的にリソース配分することができない
しかし、NBは
全てのバウンス長に対して均一な測定回数を割り当てることを前提としており、
情報利得の高いバウンス長に基づき効率的にリソース配分することができない。


*** 目的: NBを非均一配分可能なように拡張する
本研究の目的は、NBを非均一配分可能なように拡張し、シュミレーションによ
り効率的な資源配分が可能になることを示す。

*** 手法




非均一配分を許容するようにNBを拡張したい

例)
現在
m = [1,2,3,4]の場合
1,2,3,4にそれぞれx回ずつバウンスをする

改訂案
m = [1,2,3,4]の場合
1,2,3,4にそれぞれx回ずつではなく個別のバウンスを割りあてられるようにす
る
1 -> 5バウンス
2 -> 6バウンス
3 -> 8バウンス
4 -> 10バウンス

手法
現在 -> 最小二乗法
改訂案 -> 重みつき最小二乗法によって実装できないだろうか？

これを実装するにあたり不明な点や確認事項はある？

まず、第一確認事項としてこれはマルチノードではなく2ノード間の話をして
います。
各バウンス集合に対してそれぞれ個別の試行回数を割り当てたいという話です







1. 試行回数の指定方法

  # A案: 辞書形式
  samples_per_bounce = {2: 40, 3: 50, 4: 60, 5: 70, ..., 20: 100}

  # B案: リスト形式（min_bouncesからmax_bouncesまで順番）
  samples_per_bounce = [40, 50, 60, 70, ..., 100]  # len=19

  # C案: 関数指定
  def get_samples(m):
      return 40 + (m-2) * 5  # 例: 線形増加
  どの方法が使いやすいですか？

Aで。処理のしやすさなどでBが適切ならBでも可。

  2. 重み付き最小二乗法の重み

  試行回数が異なると各点の標準誤差が変わります:
  # 標準誤差 ∝ 1/√(試行回数)
  # A案: 重み = √(試行回数)
  weights = np.sqrt([samples_per_bounce[m] for m in range(2,21)])

  # B案: 実測の標準誤差を使用
  # 各mでの標本標準偏差 / √(試行回数)

  # curve_fitに渡す
  curve_fit(exp, m_values, fidelities, sigma=1/weights)
AとBで何が違うのか分からない

  
  3. 統計的な意図

  各mで異なる試行回数を割り当てる理由は？
  - A: 特定のm値（例: 高バウンス数）でより高精度な推定が必要？
  - B: 測定コストを考慮した最適配分？
  - C: その他の理由？

フィッシャー情報量に基づいて最適配分をしたいから
  

originalのNBではどっちが採用されているの？

分かりました。一応コメントアウトでAとBを切り替え可能にしといてください

これって実測結果の分散に基づいて重み付けしてるんだよね？
具体的にはどのように重み付けしているの？

どのようにして正規化しているの？
各試行回数の違いを重みを使って平坦にしているの？

了解です。どうやって実行するんですか？

出力されるpiclefileの名前を重みつきversionに変更して
